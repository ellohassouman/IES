<!DOCTYPE html><html class="js no-flexbox flexbox-legacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths wf-nunitosans-n4-active wf-nunitosans-n7-active wf-active"><head>
    <meta charset="utf-8">
    <title>Ipaki Extranet</title>
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">

    <link href="../assets/css/dataTables.css" rel="stylesheet">

    <link href="../assets/css/bootstrap.css" rel="stylesheet">
<link href="../assets/css/bootstrap_rtl.css" rel="stylesheet">

    <link href="../assets/css/bootstrap-icons_min.css" rel="stylesheet">

    
    <link href="../assets/css/bootstrap-datetimepicker.css" rel="stylesheet">

    <link href="../assets/css/captcha-stylesheet.css" rel="stylesheet">

    <link href="../assets/css/fontawesome-all.css" rel="stylesheet">
<link href="../assets/css/sassStyle.css" rel="stylesheet">
<link href="../assets/css/perfect-scrollbar.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js" type="text/javascript" async=""></script><script src="../assets/js/modernizr-2_5_3.js"></script>

    <script src="../assets/js/jquery-3_7_1.js"></script>

    <script src="../assets/js/bootstrap_bundle_min.js"></script>
<script src="../assets/js/bootstrap-datetimepicker.js"></script>
<script src="../assets/js/bootstrap-filestyle.js"></script>

    <script src="../assets/js/resources_en-US.js"></script>

    <script src="../assets/js/respond.js"></script>

    <script src="../assets/js/bootstrap-filestyle.js"></script>

    <script src="../assets/js/spin.js"></script><style type="text/css"></style>
<script src="../assets/js/jquery_spin.js"></script>

    <script src="../assets/js/moment.js"></script>

    <script src="../assets/js/generalFunctions.js"></script>
<script src="../assets/js/Validations.js"></script>
<script src="../assets/js/js-cookie.js"></script>
<script src="../assets/js/perfect-scrollbar_jquery.js"></script>
<script src="../assets/js/perfect-scrollbar.js"></script>

    <script src="../assets/js/dataTables_min.js"></script>

    <script src="../assets/js/bootstrap-datetimepicker_fr.js"></script>


    <script>
        if (window.top !== window.self) {
			window.location.href = '/Error/FrameError';
		}
    </script>
<script>NS_CSM_td=275804828;NS_CSM_pd=275116661;NS_CSM_u="/clm10";NS_CSM_col="AAAAAAW3kjlr1Q+lf0PKRO9g18OigkUk6BPwBqgXMgZEdzAJDGmX+dI6KjxkBOYXcXG+0U3fgcuxnl7z18f282jzFDKt";</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700&amp;subset=latin" media="all"><script type="text/javascript">function sendTimingInfoInit(){setTimeout(sendTimingInfo,0)}function sendTimingInfo(){var wp=window.performance;if(wp){var c1,c2,t;c1=wp.timing;if(c1){var cm={};cm.ns=c1.navigationStart;if((t=c1.unloadEventStart)>0)cm.us=t;if((t=c1.unloadEventEnd)>0)cm.ue=t;if((t=c1.redirectStart)>0)cm.rs=t;if((t=c1.redirectEnd)>0)cm.re=t;cm.fs=c1.fetchStart;cm.dls=c1.domainLookupStart;cm.dle=c1.domainLookupEnd;cm.cs=c1.connectStart;cm.ce=c1.connectEnd;if((t=c1.secureConnectionStart)>0)cm.scs=t;cm.rqs=c1.requestStart;cm.rss=c1.responseStart;cm.rse=c1.responseEnd;cm.dl=c1.domLoading;cm.di=c1.domInteractive;cm.dcls=c1.domContentLoadedEventStart;cm.dcle=c1.domContentLoadedEventEnd;cm.dc=c1.domComplete;if((t=c1.loadEventStart)>0)cm.ls=t;if((t=c1.loadEventEnd)>0)cm.le=t;cm.tid=NS_CSM_td;cm.pid=NS_CSM_pd;cm.ac=NS_CSM_col;var xhttp=new XMLHttpRequest();if(xhttp){var JSON=JSON||{};JSON.stringify=JSON.stringify||function(ob){var t=typeof(ob);if(t!="object"||ob===null){if(t=="string")ob='"'+ob+'"';return String(ob);}else{var n,v,json=[],arr=(ob&&ob.constructor==Array);for(n in ob){v=ob[n];t=typeof(v);if(t=="string")v='"'+v+'"';else if(t=="object"&&v!==null)v=JSON.stringify(v);json.push((arr?"":'"'+n+'":')+String(v));}return(arr?"[":"{")+String(json)+(arr?"]":"}");}};xhttp.open("POST",NS_CSM_u,true);xhttp.send(JSON.stringify(cm));}}}}if(window.addEventListener)window.addEventListener("load",sendTimingInfoInit,false);else if(window.attachEvent)window.attachEvent("onload",sendTimingInfoInit);else window.onload=sendTimingInfoInit;</script></head>

<body>
<script>
 function string_to_array(str) {var len = str.length;var res = new Array(len);for(var i = 0; i < len; i++)res[i] = str.charCodeAt(i);return res;}function array_to_hex_string(ary) {var res = "";for(var i = 0; i < ary.length; i++)res += SHA256_hexchars[ary[i] >> 4] + SHA256_hexchars[ary[i] & 0x0f];return res;}function SHA256_init() {SHA256_H = new Array(0x6a09e667, 0xbb67ae85,0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19);SHA256_buf = new Array();SHA256_len = 0;}function SHA256_write(msg) {if (typeof(msg) == "string") SHA256_buf = SHA256_buf.concat(string_to_array(msg));else SHA256_buf = SHA256_buf.concat(msg); for(var i = 0; i + 64 <= SHA256_buf.length; i += 64) SHA256_Hash_Byte_Block(SHA256_H, SHA256_buf.slice(i, i +64)); SHA256_buf = SHA256_buf.slice(i); SHA256_len += msg.length;}function SHA256_finalize() { SHA256_buf[SHA256_buf.length] = 0x80;  if (SHA256_buf.length > 64 - 8) {for(var i = SHA256_buf.length; i < 64; i++)SHA256_buf[i] = 0;SHA256_Hash_Byte_Block(SHA256_H, SHA256_buf);SHA256_buf.length = 0;} for(var i = SHA256_buf.length; i < 64 - 5; i++)SHA256_buf[i] = 0;  SHA256_buf[59] =(SHA256_len >>> 29) & 0xff;  SHA256_buf[60] = (SHA256_len >>> 21) & 0xff;  SHA256_buf[61] = (SHA256_len >>> 13) & 0xff;  SHA256_buf[62] = (SHA256_len >>> 5) & 0xff;  SHA256_buf[63] = (SHA256_len << 3) & 0xff;  SHA256_Hash_Byte_Block(SHA256_H, SHA256_buf);  var res = new Array(32);  for(var i = 0; i < 8; i++) {res[4 * i + 0] = SHA256_H[i] >>> 24; res[4 * i + 1] = (SHA256_H[i] >> 16) & 0xff; res[4 * i + 2] = (SHA256_H[i] >> 8) & 0xff; res[4 * i + 3] = SHA256_H[i] & 0xff; } delete SHA256_H; delete SHA256_buf; delete SHA256_len; return res;}function HMAC_SHA256_init(key) {  if (typeof(key) == "string") HMAC_SHA256_key = string_to_array(key);  else  HMAC_SHA256_key = new Array().concat(key);  if (HMAC_SHA256_key.length > 64) { SHA256_init(); SHA256_write(HMAC_SHA256_key); HMAC_SHA256_key = SHA256_finalize(); }  for(var i = HMAC_SHA256_key.length; i < 64; i++)  HMAC_SHA256_key[i] = 0; for(var i = 0; i < 64; i++) HMAC_SHA256_key[i] ^=  0x36;  SHA256_init(); SHA256_write(HMAC_SHA256_key);} function HMAC_SHA256_write(msg) {  SHA256_write(msg);} function HMAC_SHA256_finalize() {  var md = SHA256_finalize();  for(var i = 0; i < 64; i++) HMAC_SHA256_key[i] ^= 0x36 ^ 0x5c; SHA256_init(); SHA256_write(HMAC_SHA256_key); SHA256_write(md);  for(var i = 0; i < 64; i++)    HMAC_SHA256_key[i] = 0;  delete HMAC_SHA256_key;  return SHA256_finalize();}function HMAC_SHA256_MAC(key, msg) { var res;  HMAC_SHA256_init(key);  HMAC_SHA256_write(msg);  res = HMAC_SHA256_finalize();  return array_to_hex_string(res);} SHA256_hexchars = new Array('0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f');SHA256_K = new Array( 0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1,0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2); function SHA256_sigma0(x) { return ((x >>> 7) | (x << 25)) ^ ((x >>> 18) | (x << 14)) ^ (x >>> 3);} function SHA256_sigma1(x) { return ((x >>> 17) | (x << 15)) ^ ((x >>> 19) | (x << 13)) ^ (x >>> 10);}function SHA256_Sigma0(x) { return ((x >>> 2) | (x << 30)) ^ ((x >>> 13) | (x << 19)) ^ ((x >>> 22) | (x << 10));}function SHA256_Sigma1(x) { return ((x >>> 6) | (x << 26)) ^ ((x >>> 11) | (x << 21)) ^ ((x >>> 25) | (x << 7));} function SHA256_Ch(x, y, z) { return z ^ (x & (y ^ z));} function SHA256_Maj(x, y, z) {return (x & y) ^ (z & (x ^ y));}function SHA256_Hash_Word_Block(H, W) { for(var i = 16; i < 64; i++)  W[i] = (SHA256_sigma1(W[i - 2]) +  W[i - 7] + SHA256_sigma0(W[i - 15]) + W[i - 16]) & 0xffffffff; var state = new Array().concat(H); for(var i = 0; i < 64; i++) {    var T1 = state[7] + SHA256_Sigma1(state[4]) + SHA256_Ch(state[4], state[5], state[6]) + SHA256_K[i] + W[i]; var T2 = SHA256_Sigma0(state[0]) + SHA256_Maj(state[0], state[1], state[2]); state.pop(); state.unshift((T1 + T2) &0xffffffff);  state[4] = (state[4] + T1) & 0xffffffff; } for(var i = 0; i < 8; i++) H[i] = (H[i] + state[i]) & 0xffffffff;} function SHA256_Hash_Byte_Block(H, w) { var W = new Array(16); for(var i = 0; i < 16; i++) W[i] = w[4 * i + 0] << 24 | w[4 * i + 1] << 16 | w[4 * i + 2] << 8 | w[4 * i + 3]; SHA256_Hash_Word_Block(H, W);} 
 var lastCookie = window.name;
 function getCookie(name) {
       let cookie = {}; 
            document.cookie.split(';').forEach(function(el) {
                let cookiekv = el.split('=');
           cookie[cookiekv[0].trim()] = cookiekv[1];
            })
           if (cookie.hasOwnProperty(name)) {
               return cookie[name];
                     }
            return "";
 };
 var checkCookie = function() {
       var token ="7067722647229789059";
			    var seed = getCookie('citrix_ns_seed');
      var currentCookie = document.cookie;
         if (currentCookie != lastCookie || (lastCookie.length == 0)) {
           console.log('cookie has changed');
           var hash = HMAC_SHA256_MAC(seed, token);
         document.cookie = 'MC=' + hash +'; Domain= .aglgroup.com';
               lastCookie = currentCookie;
          window.name = currentCookie;
     }
                    return true;
 };
 window.setInterval(checkCookie, 100);
        </script>

    <nav class="navbar navbar-expand-md navbar-inverse fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarFlagsMenu" aria-controls="navbarFlagsMenu" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <div class="logo-version">
                    <a class="navbar-brand fontBalnc" href="/TICTC/Home"> </a>
                </div>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="navbarFlagsMenu">
                <ul class="navbar-nav">
                    <li class="nav-item">


<form action="/TICTC/LogOff?LoginActionName=CustomerLogin" id="logoutForm" method="post">            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle fontBalnc menuUser" data-bs-toggle="dropdown"><span class="glyphicon glyphicon-user paddIcon"></span>Elloh ASSOUMAN<b class="caret"></b></a>
                    <ul class="dropdown-menu menuUser">
                            <li>
                                <a id="linkMyProfile" class="dropdown-item" data-bs-toggle="modal" data-bs-target="#ProfileModal" href="/TICTC/Customer/MyProfile">
                                    <span class="bi bi-person-fill" aria-hidden="true"></span> Mon Profile
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/TICTC/Payment/History">
                                    <span class="bi bi-clock" aria-hidden="true"></span> Historique de paiement
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/TICTC/Account/ChangePassword">
                                    <span class="bi bi-lock-fill" aria-hidden="true"></span> Changer le mot de passe
                                </a>
                            </li>
                                <li>
                                    <a class="dropdown-item" id="supportButton" data-bs-toggle="modal" data-bs-target="#supportDialog" href="/TICTC/Support/ShowSupportDialog">
                                        <div><span class="bi bi-envelope-fill" aria-hidden="true"></span> Demander de l'assistance</div>
                                    </a>
                                </li>
                        <li>
                            <input name="__RequestVerificationToken" type="hidden" value="5y8SIMNLw_v157u24Evc5yIpGzLAXJoR2g9EM0cmUlvqf18oP2wZ-llbCI4pJ-mHBCG3EL66rktmCZRoBTeBIjjzD61fJUA8YPMP6Yt6Y7D__lejFqTntLMY57P18hwVb5uo3I4CPoIygaNsDegNtQ2">
                            <a href="javascript:document.getElementById('logoutForm').submit()" class="dropdown-item"><span class="bi bi-box-arrow-right" aria-hidden="true"></span> Déconnecter</a>
                        </li>
                    </ul>
                </li>
            </ul>
<input type="hidden" name="as_sfid" value="AAAAAAVS-PcwCdlAUplMRkOlUIO8F9T2pREdBRTHpkrsT2cMq1kRNNzsIcg7arfG5XaV5opy-IIF2RajnqJpS6chOGWlr8d9FC-wjLXMPN-1x8PyaGveNr6Vxo12eiuGHOu9TaIq40XXq0ehGGLf1-KEB64HLEmjOQczugSvChZawNGWUw=="><input type="hidden" name="as_fid" value="9babd1662491254d39a71ed6cc980b4a7715f868"></form><script>
    $('#supportButton').click(function () {
        $('#supportDialogContent').load(this.href, function () {
            $('#supportDialog').modal({
                backdrop: 'static',
                keyboard: true
            }, 'show');
        });
        return false;
    });

    $('#linkMyProfile').click(function () {
        $('#ProfileModalContent').load(this.href, function () {
            $('#ProfileModal').modal({
                backdrop: 'static',
                keyboard: true
            }, 'show');
        });
        return false;
    });

    

</script>


                        <div class="d-none d-md-block float-start">
<form action="/Default/SetCulture" id="SetCultureForm" method="post"><span class="posFlags">
                                    <span class="btn-group btn-group-xs">
                                        <button type="submit" name="culture" id="en-us" value="en-us" class="btn btn-primary btn-sm">Anglais</button>
                                        <button type="submit" name="culture" id="fr" value="fr" class="btn btn-primary btn-sm">Français</button>
                                    </span>
                                </span>
<input type="hidden" name="as_sfid" value="AAAAAAWUlBBe1c8RE2gN-afv1iSaNgAI-ZOZn-NToimfCbv_FNSCg3zi2bMTcq9hnQKvir-0jhj8bR10y_qjAaTEdO4kbkly3XTL36Lt4uFIw-K8jTFYbKW7Nc0miM41KhUE3Yf0KeqI88O-DP-7a7SoD5YkqeHELykGH-XFPDrTCHK0lA=="><input type="hidden" name="as_fid" value="a94a585184e93651e939ab772bd24251ba3b8105"></form>                        </div>

                    </li>
                </ul>
            </div>
                <a href="/TICTC/Payment/PayInvoices">
                    <div id="divShoppingCart" class="Shopping_cart">
                        <span id="lblCartCount" class="txt_cart"></span>
                    </div>
                </a>
            <div class="hidden-sm d-md-none d-lg-none">
<form action="/Default/SetCulture" method="post"><span class="posFlags posFlagsCustomer">
                        <span class="btn-group btn-group-xs">
                                <button type="submit" name="culture" id="en-us" value="en-us" class="btn btn-primary btnLangMobile">EN</button>
                        </span>
                    </span>
<input type="hidden" name="as_sfid" value="AAAAAAUD9UKuSTtSCnA6SoLFiw_Kw7hsGnYfRF_VUNyZZyLCem5Co2L3iCgSgLrcQfXR7AoUdZz5pm1WJo_goKKkMKG3oi3KcPf_GCkttbfmbrDXmMppsrZ_zvZlc1Z-7GtujG2dNjgSg8BrOLN1EfR9NcjaEUq7OSbMbS27kRBYrCoI6g=="><input type="hidden" name="as_fid" value="d798315e4e836dbee98d48a633f52b24b79e1b85"></form>            </div>
        </div>
    </nav>

    <div id="supportDialog" class="modal fade" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="supportModal" aria-hidden="true">
        <div id="supportDialogContent" class="modal-dialog"></div>
    </div>

    <div id="ProfileModal" class="modal fade" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="myProfileModal" aria-hidden="true">
        <div id="ProfileModalContent" class="modal-dialog"></div>
    </div>

    <div class="jumbotronCustomer hidden-xs" style="background-image: url(/Images/img_puerto.jpg);">
        <div class="container transpCustomer">
                <h2>TICT Clearing (Training)</h2>
                <h4>TICT Clearing (Training)</h4>
        </div>
        <div style="text-align:right;">
        </div>
    </div>

    <div id="supportAlerts">
        



    </div>

    <div class="container FondBlanc content">
        

<script src="../assets/js/jszip.js"></script>
<script src="../assets/js/FileSaver.js"></script>
<script src="../assets/js/delivery-note-downloader.js"></script>

<div id="wrapper" class="toggled">
    <div id="page-content-wrapper">
        <div>



<div id="divError" class="alert alert-danger alrt_pad" role="alert" style="display:none;">
	<div class="d-flex justify-content-between">
		<div>
			<span class="fas fa-exclamation-circle" aria-hidden="true"></span>
			<b>Attention!</b>
			<span id="spanError"></span>
		</div>
		<div>
			<button type="button" class="btn-close" aria-label="Close" onclick="$('#divError').hide();"></button>
		</div>
	</div>
</div>


            <input name="__RequestVerificationToken" type="hidden" value="UPn8-7mZhOaxcjQ10-efmxeby01Wrx020CDWkPyoJL66VA32_gyPUmRRAXkoaNsQGjb3gFmSlMtz4GAQq53Chdo7HG8w939BoOx6YmtPHOFBXKDY3GR8KCajx-JrTCmrt5Xiwbpw-uIhiWzhNlSV3w2">
            <div class="header_bl4">
                <div class="row">
                    <div class="col-10 num_Bl">
                        <h2 class="tit_bl left-padding titleBlSummaryMobile">BL MEDUDM992142</h2>
                    </div>
                    <div class="col-2 Bl_hist_btn side-padding" style=" cursor:pointer;">
                        <a href="/TICTC/Home" title="Retour à la Recherche">
                            <h4 class="col_link">
                                <span class="fas fa-arrow-circle-left" aria-hidden="true"></span>
                                <span class="d-none d-lg-inline">Retour à la Recherche</span>
                            </h4>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="row pb-4" style="flex:auto; display:flex">
            <div id="blSummaryButtonsContent" class="col">
<nav>
    <a class="btn btn-default blnavbar_btn " href="/TICTC/Customer/BillOfLadingDetails?blNumber=MEDUDM992142" title="Détails du BL" onclick="$.blockScreen();">
       Détails du BL
    </a>
    <a class="btn btn-default blnavbar_btn " href="/TICTC/Customer/BillOfLadingInvoices?blNumber=MEDUDM992142" title="Factures" onclick="$.blockScreen();">
       Factures
    </a>
    <a class="btn btn-default blnavbar_btn " href="/TICTC/Customer/BillOfLadingPendingInvoicing?blId=792416&amp;blNumber=MEDUDM992142" title="Eléments à Facturer " onclick="$.blockScreen();">
       Eléments à Facturer 
    </a>
    <a class="btn btn-default blnavbar_btn active" href="/TICTC/Customer/BillOfLadingYITrakingInfo?blId=792416&amp;blNumber=MEDUDM992142" title="Suivi" onclick="$.blockScreen();">
       Suivi
    </a>
</nav>

            </div>
            <div class="col-12 col-lg-2 download-dns-tracking" style="float:right">
                <button class="btn btn-primary d-none blnavbar_btn" dn-button="true" aria-hidden="true" type="button" disabled="disabled" style="float:right">
                    <span class="fas fa-download"></span> DNs
                </button>
            </div>
        </div>

            <div id="TrackingInfoContent">
<div class="pad_BLGroup">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">


<div class="panel panel-default panel-tracking" id="trackingInfo" data-filter="TrackingInfo" data-filter-id="1488613" data-yarditemnumber="MEDU7569141" data-sliding-menu="container" data-dnprintable="False">
    <div class="panel-heading" role="tab" id="ph1488613" style="padding: 10px;">
        <div class="row align-items-center">
            <div class="col-10 col-md-8 col-lg-10">
				<div class="row row-cols-1 row-cols-lg-5">
					<div class="col" style="max-width: 30px;">
						<input class="selectableRowTracking" name="check_1488613" type="checkbox" value="1488613" data-isdraft="False" data-yarditemnumber="MEDU7569141">
					</div>
					<div class="col">
						<h5 class="panel-title">
							<a class="collapsed whiteOnHover" data-bs-toggle="collapse" href="#dc1488613" aria-expanded="false" aria-controls="" data-collapse-icon="" id="loadTableButton">
								<i class="fas fa-caret-down"></i><span data-sliding-menu="title">YI MEDU7569141</span>
							</a>
						</h5>
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
				</div>
            </div>
			<div class="col-2 col-md-4 col-lg-2">
			</div>
        </div>
    </div>
	<div id="dc1488613" class="collapse" data-loaded="false">
	</div>
</div>


    <script>
        function isYITrackingInfoCurrentPositionFieldVisible() {
            return false
        }
    </script>


<div class="panel panel-default panel-tracking" id="trackingInfo" data-filter="TrackingInfo" data-filter-id="1488614" data-yarditemnumber="MEDU7637020" data-sliding-menu="container" data-dnprintable="False">
    <div class="panel-heading" role="tab" id="ph1488614" style="padding: 10px;">
        <div class="row align-items-center">
            <div class="col-10 col-md-8 col-lg-10">
				<div class="row row-cols-1 row-cols-lg-5">
					<div class="col" style="max-width: 30px;">
						<input class="selectableRowTracking" name="check_1488614" type="checkbox" value="1488614" data-isdraft="False" data-yarditemnumber="MEDU7637020">
					</div>
					<div class="col">
						<h5 class="panel-title">
							<a class="collapsed whiteOnHover" data-bs-toggle="collapse" href="#dc1488614" aria-expanded="false" aria-controls="" data-collapse-icon="" id="loadTableButton">
								<i class="fas fa-caret-down"></i><span data-sliding-menu="title">YI MEDU7637020</span>
							</a>
						</h5>
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
				</div>
            </div>
			<div class="col-2 col-md-4 col-lg-2">
			</div>
        </div>
    </div>
	<div id="dc1488614" class="collapse" data-loaded="false">
	</div>
</div>




<div class="panel panel-default panel-tracking" id="trackingInfo" data-filter="TrackingInfo" data-filter-id="1488473" data-yarditemnumber="MSDU8245231" data-sliding-menu="container" data-dnprintable="False">
    <div class="panel-heading" role="tab" id="ph1488473" style="padding: 10px;">
        <div class="row align-items-center">
            <div class="col-10 col-md-8 col-lg-10">
				<div class="row row-cols-1 row-cols-lg-5">
					<div class="col" style="max-width: 30px;">
						<input class="selectableRowTracking" name="check_1488473" type="checkbox" value="1488473" data-isdraft="False" data-yarditemnumber="MSDU8245231">
					</div>
					<div class="col">
						<h5 class="panel-title">
							<a class="collapsed whiteOnHover" data-bs-toggle="collapse" href="#dc1488473" aria-expanded="false" aria-controls="" data-collapse-icon="" id="loadTableButton">
								<i class="fas fa-caret-down"></i><span data-sliding-menu="title">YI MSDU8245231</span>
							</a>
						</h5>
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
				</div>
            </div>
			<div class="col-2 col-md-4 col-lg-2">
			</div>
        </div>
    </div>
	<div id="dc1488473" class="collapse" data-loaded="false">
	</div>
</div>




<div class="panel panel-default panel-tracking" id="trackingInfo" data-filter="TrackingInfo" data-filter-id="1488884" data-yarditemnumber="MSDU8908078" data-sliding-menu="container" data-dnprintable="False">
    <div class="panel-heading" role="tab" id="ph1488884" style="padding: 10px;">
        <div class="row align-items-center">
            <div class="col-10 col-md-8 col-lg-10">
				<div class="row row-cols-1 row-cols-lg-5">
					<div class="col" style="max-width: 30px;">
						<input class="selectableRowTracking" name="check_1488884" type="checkbox" value="1488884" data-isdraft="False" data-yarditemnumber="MSDU8908078">
					</div>
					<div class="col">
						<h5 class="panel-title">
							<a class="collapsed whiteOnHover" data-bs-toggle="collapse" href="#dc1488884" aria-expanded="false" aria-controls="" data-collapse-icon="" id="loadTableButton">
								<i class="fas fa-caret-down"></i><span data-sliding-menu="title">YI MSDU8908078</span>
							</a>
						</h5>
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
				</div>
            </div>
			<div class="col-2 col-md-4 col-lg-2">
			</div>
        </div>
    </div>
	<div id="dc1488884" class="collapse" data-loaded="false">
	</div>
</div>




<div class="panel panel-default panel-tracking" id="trackingInfo" data-filter="TrackingInfo" data-filter-id="1488439" data-yarditemnumber="MSMU6927080" data-sliding-menu="container" data-dnprintable="False">
    <div class="panel-heading" role="tab" id="ph1488439" style="padding: 10px;">
        <div class="row align-items-center">
            <div class="col-10 col-md-8 col-lg-10">
				<div class="row row-cols-1 row-cols-lg-5">
					<div class="col" style="max-width: 30px;">
						<input class="selectableRowTracking" name="check_1488439" type="checkbox" value="1488439" data-isdraft="False" data-yarditemnumber="MSMU6927080">
					</div>
					<div class="col">
						<h5 class="panel-title">
							<a class="collapsed whiteOnHover" data-bs-toggle="collapse" href="#dc1488439" aria-expanded="false" aria-controls="" data-collapse-icon="" id="loadTableButton">
								<i class="fas fa-caret-down"></i><span data-sliding-menu="title">YI MSMU6927080</span>
							</a>
						</h5>
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
					<div class="col">
					</div>
				</div>
            </div>
			<div class="col-2 col-md-4 col-lg-2">
			</div>
        </div>
    </div>
	<div id="dc1488439" class="collapse" data-loaded="false">
	</div>
</div>


    </div>
</div>

<script>
    $("a[data-dnbutton-tracking='true']").each(function (index) {
        $(this).click(function () {
            $.blockScreen();
            $.ajax({
                url: this.href,
                type: 'POST',
                contentType: "application/json",
                success: function (result) {
                    $('#printDeliveryNoteDialogContent').html(result);
                    $('#printDeliveryNoteDialog').modal({
                        backdrop: 'static',
                        keyboard: true
                    }, 'show');
                },
                complete: function () {
                    $.unblockScreen();
                }
            });
            return false;
        })
    });
</script>
            </div>
    </div>
</div>

<div id="printDeliveryNoteDialog" class="modal fade" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="deliveryNoteModal" aria-hidden="true">
    <div id="printDeliveryNoteDialogContent" class="modal-dialog"></div>
</div>

<div id="deliveryNoteWrongPinDialog" class="modal fade" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog" aria-labelledby="deliveryNoteWrongPinModal" aria-hidden="true">
    <div id="deliveryNoteWrongPinDialogContent" class="modal-dialog"></div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        var canPrintDNs = 'True' === 'True';
        checkConditionsToViewMultipleDNPrintButton(canPrintDNs);
    });

    $("button[dn-button='true']").click(function () {
        $.blockScreen();
        var zip = new JSZip();
        var selectedYINumbers = getSelectedYardItemNumbers();

        if (selectedYINumbers.length != 0) {
            getZippedDeliveryNotes(
                selectedYINumbers,
                "/TICTC/Customer/PrintDeliveryNoteWithtout2Fa?YardItemNumber=number&BillOfLadingNumber=MEDUDM992142",
                "number",
                (results) => {
                    if (results.length != 0) {
                        results.forEach(
                            (result) => {
                                zip.file(result.fileName, result.arrayBuffer, { binary: true })
                            });
                            zip.generateAsync({ type: "blob" }).then(function (blob) {
                                saveAs(blob, "MEDUDM992142" + "_DNs.zip");
                            });
                    }
                    $.unblockScreen();
                },
                () => {
                    var divError = $('#divError');
                    var spanError = $('#spanError');
                    spanError.html("Au moins un des bon de livraison n'a pas pu être imprimé. Veuillez contacter le service client.");
                    divError.show();
                    $.unblockScreen();
                }
            );
        }
    });

    function checkConditionsToViewMultipleDNPrintButton(canPrintDNs) {
        var printableYardItems = $('.print_dn_button').length;
        if (printableYardItems >= 2 && canPrintDNs) {
            $("button[dn-button='true']").removeClass('d-none');
        }
    }

    function checkConditionsToEnableMultipleDNPrintButton() {
        var selectedYIIds = getSelectedYardItemIds();

        if (selectedYIIds.length >= 2) {
            if (selectedYIIds.every((x) => {
                return $("input[value=" + x + "]").closest('#trackingInfo').attr("data-DNPrintable").toLowerCase() === 'true';
            })) {
                $("button[dn-button='true']").removeAttr('disabled');
            } else {
                $("button[dn-button='true']").attr("disabled", "disabled");
            }
        } else {
            $("button[dn-button='true']").attr("disabled", "disabled");
        }
    }

    function getSelectedYardItemIds() {
        var selectedIDs = [];
        $(".selectableRowTracking").each(function () {
            if ($(this).prop('checked') == true) {
                selectedIDs.push($(this).val());
            }
        });
        return selectedIDs;
    }

    $('.selectableRowTracking').change(function () {
		var selectedYIIds = getSelectedYardItemIds();

		if (selectedYIIds.length >= 2) {
			if (selectedYIIds.every((x) => {
				return $("input[value=" + x + "]").closest('#trackingInfo').attr("data-DNPrintable").toLowerCase() === 'true';
			})) {
				$("button[dn-button='true']").removeAttr('disabled');
			} else {
				$("button[dn-button='true']").attr("disabled", "disabled");
			}
		} else {
			$("button[dn-button='true']").attr("disabled", "disabled");
		}
    });

	function getSelectedYardItemNumbers() {
		var selectedYINumbers = [];
		$(".selectableRowTracking").each(function () {
			if ($(this).prop('checked') == true) {
				selectedYINumbers.push($(this).attr("data-yarditemnumber"));
			}
		});
		return selectedYINumbers;
    }

    $('.selectableRowTracking').change(function () {
        checkConditionsToEnableMultipleDNPrintButton();
    });

    function PaintTrackingTable(idTable) {
		$('#TrackingTable' + idTable).DataTable({
            "aaSorting": [],
            "oLanguage": {
                "sEmptyTable": "Aucun &#233;v&#233;nement trouv&#233;"
            },
			"aoColumnDefs": [{ "bSortable": false, "aTargets": ['no-sort'] }],
			"bFilter": false,
			"bInfo": false,
            "bPaginate": false,
            "fnInitComplete": function (oSettings, json) {
                if (oSettings.aoData.length == 0) {
                    $('#TrackingTable').parents('.dataTables_wrapper').first().find('thead').hide();
                }
            }
        });
    }

     //handle click on each yardItem in TrackingInfo partial view
	$('div[id="trackingInfo"] [data-bs-toggle="collapse"]').click(function (data) {
        var yardItemId;
        var control = data.target;

        if (control.attributes["data-print-dn"] != undefined) {
            return;
        }

        yardItemId = $(control).closest('#trackingInfo').data('filter-id');

        //first evalueate if the content is not loaded
        if ($("#dc" + yardItemId).attr("data-loaded") != "true") {

            //block the screen
            $.blockScreen();

            //call the controller
            var request = $.ajax({
                data: { yardItemId: yardItemId },
                url: "../TrackingInfo/ListYardItemEvents",
                method: "GET",
                dataType: "json"
            });

            request.done(function (data) {
                // check if the response is success (TRACKINGINFO ERRORS)
				if (!data.success) {
					var divError = $('#divError');
					var spanError = $('#spanError');
					spanError.html(data.message);
                    divError.show();

				} else {
					var divError = $('#divError');
					divError.hide();

                    //build the header
					var innerHtml = "<div id='dc" + yardItemId + "' class='collapse show' role='tabpanel' aria-labelledby='ph" + yardItemId + "'>";
                    innerHtml += "<div class='panel-body'>";
                    innerHtml += "<table width='100%' class='display table-striped tabla' id='TrackingTable" + yardItemId + "' cellspacing='0'>";
                    innerHtml += "<thead class='thead_BL'><tr role='row'>";
                    innerHtml += "<th class='no-sort'>Date/Heure</th><th>&#201;v&#233;nement</th>";

                    if (isYITrackingInfoCurrentPositionFieldVisible()) {
                        innerHtml += "<th>Position</th>";
                    }
                    else {
                        innerHtml += "<th style='background: unset'></th>";
                    }
                    innerHtml += "<th style='background: unset' class='no-sort'></th></tr>";
                    innerHtml += "</tr></thead>";
                    innerHtml += "<tbody>";
                    
                    //build each item
                    for (var a = 0; a < data.yardItemList.length; a++) {
                        innerHtml += "<tr role='row'><td class='ancho_colt'>" + data.yardItemList[a].Date + "</td>";
                        innerHtml += "<td class='ancho_colt'>" + data.yardItemList[a].EventTypeName + "</td>";

                        if (isYITrackingInfoCurrentPositionFieldVisible()) {
                            innerHtml += "<td class='ancho_colt'>" + data.yardItemList[a].Position + "</td>";
                        }
                        else {
                            innerHtml += "<td class='ancho_colt'></td>";
                        }
                        if (data.yardItemList[a].CreatedByIES == 'True') {
							innerHtml += "<td><button id='btnDeleteEvent' type='button' class='btn btn-danger btn_event d-none d-sm-block' data-yievent ='" + JSON.stringify(data.yardItemList[a]) + "' onClick='RemoveIpakiEvent(event)'>" + "Enlever" + "</button></td>";
                        } else {
                            innerHtml += "<td class='ancho_colt'></td>";
                        }

                        innerHtml += "</tr>";
                    }

                    //build the footer
                    innerHtml += "</tbody></table></div></div>";

                    $("#dc" + yardItemId).html(innerHtml);

                    //at last change set this flag as true
                    $("#dc" + yardItemId).attr("data-loaded", "true");

                    //change the icon
                    if (control.className == "") {
                        $(control).find('i').toggleClass('fa-caret-down fa-caret-up');
                        $("#ph" + yardItemId).toggleClass('selectedPanel');
                        $("#ph" + yardItemId).find('.panel-title').find('.collapsed').toggleClass('whiteOnHover2');
                        $("#ph" + yardItemId).find('.glyphicon.pad_ico2, .glyphicon.pad_ico').toggleClass('pad_ico pad_ico2');

                        var icon = $("#ico" + yardItemId);

                        if (icon.hasClass('Img_vehicle') || icon.hasClass('Img_vehicle2')) {
                            $("#ico" + yardItemId).toggleClass('Img_vehicle Img_vehicle2');
                        }

                        if (icon.hasClass('Img_bulk') || icon.hasClass('Img_bulk2')) {
                            $("#ico" + yardItemId).toggleClass('Img_bulk Img_bulk2');
                        }

                        if (icon.hasClass('Img_container') || icon.hasClass('Img_container2')) {
                            $("#ico" + yardItemId).toggleClass('Img_container Img_container2');
                        }
                    }
                    else {
                        $(control).find('i').toggleClass('fa-caret-down fa-caret-up');
                        $("#ph" + yardItemId).toggleClass('selectedPanel');
                        $("#ph" + yardItemId).find('.glyphicon.pad_ico2, .glyphicon.pad_ico').toggleClass('pad_ico pad_ico2');

                        var icon = $("#ico" + yardItemId);

                        if (icon.hasClass('Img_vehicle') || icon.hasClass('Img_vehicle2')) {
                            $("#ico" + yardItemId).toggleClass('Img_vehicle Img_vehicle2');
                        }

                        if (icon.hasClass('Img_bulk') || icon.hasClass('Img_bulk2')) {
                            $("#ico" + yardItemId).toggleClass('Img_bulk Img_bulk2');
                        }

                        if (icon.hasClass('Img_container') || icon.hasClass('Img_container2')) {
                            $("#ico" + yardItemId).toggleClass('Img_container Img_container2');
                        }
                    }

                    PaintTrackingTable(yardItemId);
				}

                //unblock the screen
                $.unblockScreen();

            });

            request.fail(function (jqXHR, textStatus) {
                window.location.href='/TICTC/Login';
            });
        } else {

            //change the icon
            if (control.className == "") {
                $(control).find('i').toggleClass('fa-caret-down fa-caret-up');
                $("#ph" + yardItemId).toggleClass('selectedPanel');
                $("#ph" + yardItemId).find('.glyphicon.pad_ico2, .glyphicon.pad_ico').toggleClass('pad_ico pad_ico2');

                var icon = $("#ico" + yardItemId);

                if (icon.hasClass('Img_vehicle') || icon.hasClass('Img_vehicle2')) {
                    $("#ico" + yardItemId).toggleClass('Img_vehicle Img_vehicle2');
                }

                if (icon.hasClass('Img_bulk') || icon.hasClass('Img_bulk2')) {
                    $("#ico" + yardItemId).toggleClass('Img_bulk Img_bulk2');
                }

                if (icon.hasClass('Img_container') || icon.hasClass('Img_container2')) {
                    $("#ico" + yardItemId).toggleClass('Img_container Img_container2');
                }
            }
            else {
                $(control).find('i').toggleClass('fa-caret-down fa-caret-up');
                $("#ph" + yardItemId).toggleClass('selectedPanel');
                $("#ph" + yardItemId).find('.glyphicon.pad_ico2, .glyphicon.pad_ico').toggleClass('pad_ico pad_ico2');

                var icon = $("#ico" + yardItemId);

                if (icon.hasClass('Img_vehicle') || icon.hasClass('Img_vehicle2')) {
                    $("#ico" + yardItemId).toggleClass('Img_vehicle Img_vehicle2');
                }

                if (icon.hasClass('Img_bulk') || icon.hasClass('Img_bulk2')) {
                    $("#ico" + yardItemId).toggleClass('Img_bulk Img_bulk2');
                }

                if (icon.hasClass('Img_container') || icon.hasClass('Img_container2')) {
                    $("#ico" + yardItemId).toggleClass('Img_container Img_container2');
                }
            }

        }

    });

    function LoadTrackingTable(yardItemList, yardItemId, control) {

        //build the header
		var innerHtml = "<div id='dc" + yardItemId + "' class='collapse show' role='tabpanel' aria-labelledby='ph" + yardItemId + "'>";
        innerHtml += "<div class='panel-body'>";
        innerHtml += "<table width='100%' class='display table-striped tabla' id='TrackingTable" + yardItemId + "' cellspacing='0'>";
        innerHtml += "<thead class='thead_BL'><tr role='row'>";
        innerHtml += "<th class='no-sort'>Date/Heure</th><th>&#201;v&#233;nement</th>";

        if (isYITrackingInfoCurrentPositionFieldVisible()) {
            innerHtml += "<th>Position</th>";
        }
        else {
            innerHtml += "<th style='background: unset'></th>";
        }
        innerHtml += "<th style='background: unset' class='no-sort'></th></tr>";
        innerHtml += "</tr></thead>";
        innerHtml += "<tbody>";

        //build each item
        for (var a = 0; a < yardItemList.length; a++) {
            innerHtml += "<tr role='row'><td class='ancho_colt'>" + yardItemList[a].Date + "</td>";
            innerHtml += "<td class='ancho_colt'>" + yardItemList[a].EventTypeName + "</td>";

            if (isYITrackingInfoCurrentPositionFieldVisible()) {
                innerHtml += "<td class='ancho_colt'>" + yardItemList[a].Position + "</td>";
            }
            else {
                innerHtml += "<td class='ancho_colt'></td>";
            }
            if (yardItemList[a].CreatedByIES == 'True') {
				innerHtml += "<td><button id='btnDeleteEvent' type='button' class='btn btn-danger btn_event d-none d-sm-block' data-yievent ='" + JSON.stringify(yardItemList[a]) + "' onClick='RemoveIpakiEvent(event)'>" + "Enlever" + "</button></td>";
            } else {
                innerHtml += "<td class='ancho_colt'></td>";
            }

            innerHtml += "</tr>";
        }

        //build the footer
        innerHtml += "</tbody></table></div></div>";

        $("#dc" + yardItemId).html(innerHtml);

        //at last change set this flag as true
        $("#dc" + yardItemId).attr("data-loaded", "true");

        PaintTrackingTable(yardItemId);

        //unblock the screen
        $.unblockScreen();
    }

    function RemoveIpakiEvent(e) {

        yardItemNumber = $(e.target).closest('#trackingInfo').data('yarditemnumber');
        yardItemId = $(e.target).closest('#trackingInfo').data('filter-id');
        var yardItemEventData = $(e.target).data('yievent');
        var formateDate = new Date(yardItemEventData.Date).toISOString();
        var token = $('input[name="__RequestVerificationToken"]').val();

        $.ajax({
            url: '/TICTC/TrackingInfo/DeleteYardItemEvent',
            data: { __RequestVerificationToken: token, eventTypeCode: yardItemEventData.EventTypeCode, yardItemNumber: yardItemNumber, eventDateString: formateDate, billOfLadingNumber: "MEDUDM992142" },
            type: 'POST',
            async: false,
            cache: false,
            success: function (result) {
                if (result.success) {
                    var divError = $('#divError');
                    divError.hide();
                    LoadTrackingTable(result.yardItemList, yardItemId, e.target);
                } else {
                    var divError = $('#divError');
                    var spanError = $('#spanError');
                    spanError.html(result.message);
                    divError.show();
                }
            },
            error: function (message) {
                var divError = $('#divError');
                var spanError = $('#spanError');
                spanError.html(message);
                divError.show();
            }
        }).always(function () {
            $('.popover').popover('hide');
        });

        return false;
    };
</script>
    </div>
    <footer class="container FondBlanc pt-3">
        <hr>
        <p class="logo">© 2025 AGL Group<img src="../assets/images/ipk_logo2.jpg" class="logoFooter"></p>
    </footer>
    

    <script>
        $(document).ready(function () {
            bindCartCount();
        });

        function bindCartCount() {
            $.ajax({
                type: 'POST',
                url: '/TICTC/Cart/GetCurrentUserCartCount',
                cache: false,
                datatype: 'json',
                contentType: 'application/json',
                success: function (result) {
                    $('#lblCartCount').text(result['ItemCount']);
                },
                error: function (message) {
                    $('#lblCartCount').text('0');
                }
            });
        }
    </script>




</body></html>